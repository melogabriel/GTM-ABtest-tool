<!DOCTYPE html>
<html lang="en">
<head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-M8VGTNS7');</script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Free GTM A/B Test Generator | Create GTM Containers Easily</title>
    <meta name="description" content="A free and simple tool to instantly generate a ready-to-import Google Tag Manager (GTM) container for setting up A/B tests. Automate your GTM workflow." />
    <meta name="keywords" content="GTM, Google Tag Manager, A/B Test, A/B Testing, GTM tool, JSON generator, marketing, analytics, CRO" />
    <link rel="canonical" href="https://melogabriel.github.io/GTM-ABtest-tool/" />

    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://melogabriel.github.io/GTM-ABtest-tool/" />
    <meta property="og:title" content="Free GTM A/B Test Generator" />
    <meta property="og:description" content="Instantly generate a ready-to-import GTM container for setting up A/B tests." />
    <meta property="og:image" content="https://placehold.co/1200x630/2563eb/ffffff?text=GTM+A/B+Test+Tool" />

    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://melogabriel.github.io/GTM-ABtest-tool/" />
    <meta property="twitter:title" content="Free GTM A/B Test Generator" />
    <meta property="twitter:description" content="Instantly generate a ready-to-import GTM container for setting up A/B tests." />
    <meta property="twitter:image" content="https://placehold.co/1200x630/2563eb/ffffff?text=GTM+A/B+Test+Tool" />

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "GTM A/B Test Generator",
      "description": "A free and simple tool to instantly generate a ready-to-import Google Tag Manager (GTM) container for setting up A/B tests and automating GTM workflows.",
      "url": "https://melogabriel.github.io/GTM-ABtest-tool/",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Person",
        "name": "Gabriel Melo",
        "url": "https://github.com/melogabriel"
      }
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="icon" href="https://placehold.co/32x32/2563eb/ffffff?text=GTM" type="image/png">

    <script>
      function generateJSON() {
        // Get all the values from the form
        const testName = document.getElementById("testName").value || "A/B Test";
        const cookieName = document.getElementById("cookieName").value || "ab_test_group";
        const selector = document.getElementById("selector").value || "#rates";
        const ga4Param = document.getElementById("ga4Param").value || "ab_test_group";
        const measurementId = document.getElementById("measurementId").value.trim();
        const cookieDays = parseInt(document.getElementById("cookieDays").value) || 30;

        // Validation check
        if (!/^G-[A-Z0-9]{10}$/.test(measurementId)) {
          alert("Please enter a valid GA4 Measurement ID (e.g., G-XXXXXXXXXX)");
          return;
        }
        
        // Create a predictable filename
        const fileName = `gtm-abtest-${testName.replace(/\s+/g, "-").toLowerCase()}.json`;

        // Push a custom event to the dataLayer for GTM to capture
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
          event: 'json_download',
          file_name: fileName,
          file_extension: 'json',
          link_text: 'Download GTM Container JSON'
        });
          
        // The A/B testing script that runs on the page
        const abScript = `<script>(function() {
    function getCookie(name) {
      const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
      return match ? match[2] : null;
    }
    function setCookie(name, value, days) {
      let expires = "";
      if (days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toUTCString();
      }
      document.cookie = name + "=" + value + expires + "; path=/";
    }
    const name = "${cookieName}";
    let group = getCookie(name);
    if (!group) {
      group = (Math.random() < 0.5) ? "A" : "B";
      setCookie(name, group, ${cookieDays});
    }
    window.dataLayer = window.dataLayer || [];
    window.dataLayer.push({ event: "ab_group_set", ab_group: group });
    if (group === "B") {
      const el = document.querySelector("${selector}");
      if (el) el.style.display = "none";
    }
})();</scr` + `ipt>`;

        // Placeholder metadata required by the GTM import schema
        const placeholderAccountId = "12345678";
        const placeholderContainerId = "123456";
        const placeholderFingerprint = "1";
        const internalTriggerId = "1";

        const containerJSON = {
          "exportFormatVersion": 2,
          "containerVersion": {
            "accountId": placeholderAccountId,
            "containerId": placeholderContainerId,
            "fingerprint": placeholderFingerprint,
            "container": {
              "accountId": placeholderAccountId,
              "containerId": placeholderContainerId,
              "publicId": "GTM-XXXXXXX",
              "name": testName
            },
            "tag": [
              {
                "accountId": placeholderAccountId,
                "containerId": placeholderContainerId,
                "name": `A/B - Script - ${testName}`,
                "type": "html",
                "parameter": [
                  { "key": "html", "type": "TEMPLATE", "value": abScript }
                ],
                "firingTriggerId": [ internalTriggerId ],
                "tagFiringOption": "ONCE_PER_LOAD"
              },
              {
                "accountId": placeholderAccountId,
                "containerId": placeholderContainerId,
                "name": `A/B - GA4 Event - ${testName}`,
                "type": "gaawc",
                "parameter": [
                  { "key": "eventName", "type": "TEMPLATE", "value": "page_view" },
                  { "key": "measurementId", "type": "TEMPLATE", "value": measurementId },
                  {
                    "key": "eventParameter",
                    "type": "LIST",
                    "list": [
                      {
                        "type": "MAP",
                        "map": [
                          { "key": "name", "type": "TEMPLATE", "value": ga4Param },
                          { "key": "value", "type": "TEMPLATE", "value": `{{A/B - Group Variable - ${testName}}}` }
                        ]
                      }
                    ]
                  }
                ],
                "firingTriggerId": [ internalTriggerId ]
              }
            ],
            "trigger": [
              {
                "accountId": placeholderAccountId,
                "containerId": placeholderContainerId,
                "name": "All Pages",
                "type": "PAGEVIEW",
                "triggerId": internalTriggerId,
                "customEventFilter": []
              }
            ],
            "variable": [
              {
                "accountId": placeholderAccountId,
                "containerId": placeholderContainerId,
                "name": `A/B - Group Variable - ${testName}`,
                "type": "k",
                "parameter": [
                  { "key": "name", "type": "TEMPLATE", "value": cookieName }
                ]
              }
            ]
          }
        };

        const blob = new Blob([JSON.stringify(containerJSON, null, 2)], { type: "application/json" });
        const url = URL.createObjectURL(blob);
        const link = document.createElement("a");
        link.href = url;
        link.download = `gtm-abtest-${testName.replace(/\s+/g, "-").toLowerCase()}.json`;
        link.click();
        URL.revokeObjectURL(url);
      }

      function copyLink() {
        const urlToCopy = 'https://melogabriel.github.io/GTM-ABtest-tool/';
        navigator.clipboard.writeText(urlToCopy).then(() => {
          // Provide feedback to the user
          const copyButton = document.getElementById('copyLinkButton');
          const originalContent = copyButton.innerHTML;
          copyButton.innerHTML = '<span class="text-sm font-medium text-indigo-600">Copied!</span>';
          setTimeout(() => {
            copyButton.innerHTML = originalContent;
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy text: ', err);
          alert('Failed to copy link.');
        });
      }
    </script>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M8VGTNS7"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    
    <header class="bg-white shadow-sm">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <h1 class="text-2xl font-bold text-gray-900">A/B Testing with GTM Made Easy</h1>
        </div>
    </header>

    <main class="py-10">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <section class="text-center mb-12">
                <h2 class="text-4xl font-extrabold tracking-tight text-gray-900 sm:text-5xl md:text-6xl">
                    GTM A/B Test Generator
                </h2>
                <p class="mt-4 max-w-2xl mx-auto text-xl text-gray-500">
                    Automate your A/B test setup. Generate a ready-to-import GTM container in seconds, not hours.
                </p>
            </section>

            <section class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    
                    <div class="space-y-6">
                        <div>
                            <label for="testName" class="block text-sm font-medium text-gray-700">Test Name</label>
                            <input type="text" id="testName" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="Homepage Hero Text Test">
                        </div>
                        <div>
                            <label for="cookieName" class="block text-sm font-medium text-gray-700">Cookie Name</label>
                            <input type="text" id="cookieName" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="ab_test_group_hero">
                        </div>
                        <div>
                            <label for="selector" class="block text-sm font-medium text-gray-700">Element Selector to Hide (Group B)</label>
                            <input type="text" id="selector" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="#hero-section .subtitle">
                        </div>
                        <div>
                            <label for="ga4Param" class="block text-sm font-medium text-gray-700">GA4 Parameter Name</label>
                            <input type="text" id="ga4Param" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="hero_text_variant">
                        </div>
                        <div>
                            <label for="measurementId" class="block text-sm font-medium text-gray-700">GA4 Measurement ID</label>
                            <input type="text" id="measurementId" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="G-XXXXXXXXXX">
                        </div>
                        <div>
                            <label for="cookieDays" class="block text-sm font-medium text-gray-700">Cookie Duration (days)</label>
                            <input type="number" id="cookieDays" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" placeholder="30">
                        </div>
                    </div>

                    <div class="bg-gray-50 p-6 rounded-lg border border-gray-200 flex flex-col justify-between">
                        <div>
                            <h3 class="text-lg font-medium text-gray-900">How it Works</h3>
                            <p class="mt-2 text-sm text-gray-600">
                                This tool generates a GTM container (`.json`) with all the tags, triggers, and variables needed for a simple A/B test.
                            </p>
                            <ul class="mt-4 space-y-2 text-sm text-gray-600 list-disc list-inside">
                                <li>A script assigns users to Group A or B.</li>
                                <li>The element you specify is hidden for Group B.</li>
                                <li>The user's group is sent to GA4 for analysis.</li>
                            </ul>
                            <p class="mt-4 text-xs text-gray-500">
                                After generating, import the file into GTM via Admin → Import Container. Remember to choose the <strong>MERGE</strong> option.
                            </p>
                        </div>
                        <button onclick="generateJSON()" class="mt-6 w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors">
                            Download GTM Container JSON
                        </button>
                    </div>
                </div>
            </section>

           <section class="mt-12 text-center">
               <h3 class="text-2xl font-bold text-gray-900">See It in Action</h3>
               <p class="mt-2 max-w-2xl mx-auto text-lg text-gray-500">
                   Watch this short GIF to see how to generate and import your container.
               </p>
               <div class="mt-6 bg-white p-4 rounded-2xl shadow-lg border border-gray-200 inline-block">
                   <img src="https://github.com/melogabriel/GTM-ABtest-tool/blob/main/gtm_abtest.gif?raw=true" alt="GTM A/B Test Tool Usage Demonstration" class="rounded-lg">
               </div>
           </section>

           <section class="mt-16 text-center">
               <h3 class="text-2xl font-bold text-gray-900">Share This Tool</h3>
               <p class="mt-2 max-w-2xl mx-auto text-lg text-gray-500">
                   If you find this tool useful, please share it with others!
               </p>
               <div class="mt-6 flex justify-center items-center flex-wrap gap-x-6 gap-y-4">
                   <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fmelogabriel.github.io%2FGTM-ABtest-tool%2F&text=Check%20out%20this%20free%20GTM%20A%2FB%20Test%20Generator%20for%20automating%20A%2FB%20test%20setups%20in%20Google%20Tag%20Manager!" target="_blank" rel="noopener noreferrer" aria-label="Share on Twitter" class="text-gray-500 hover:text-indigo-600 transition-colors">
                       <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.71v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg>
                   </a>
                   <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fmelogabriel.github.io%2FGTM-ABtest-tool%2F&title=Free%20GTM%20A%2FB%20Test%20Generator&summary=A%20free%20and%20simple%20tool%20to%20instantly%20generate%20a%20ready-to-import%20Google%20Tag%20Manager%20(GTM)%20container%20for%20setting%20up%20A%2FB%20tests." target="_blank" rel="noopener noreferrer" aria-label="Share on LinkedIn" class="text-gray-500 hover:text-indigo-600 transition-colors">
                       <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg>
                   </a>
                   <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmelogabriel.github.io%2FGTM-ABtest-tool%2F" target="_blank" rel="noopener noreferrer" aria-label="Share on Facebook" class="text-gray-500 hover:text-indigo-600 transition-colors">
                       <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"></path></svg>
                   </a>
                   <a href="https://api.whatsapp.com/send?text=Check%20out%20this%20free%20GTM%20A%2FB%20Test%20Generator%3A%20https%3A%2F%2Fmelogabriel.github.io%2FGTM-ABtest-tool%2F" target="_blank" rel="noopener noreferrer" aria-label="Share on WhatsApp" class="text-gray-500 hover:text-indigo-600 transition-colors">
                        <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.886-.001 2.269.654 4.341 1.905 6.03l-.358 1.299 1.345-.352z"></path></svg>
                   </a>
                   <a href="https://t.me/share/url?url=https%3A%2F%2Fmelogabriel.github.io%2FGTM-ABtest-tool%2F&text=Check%20out%20this%20free%20GTM%20A%2FB%20Test%20Generator" target="_blank" rel="noopener noreferrer" aria-label="Share on Telegram" class="text-gray-500 hover:text-indigo-600 transition-colors">
                        <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M15.393 8.232l-1.948 9.172c-.205.966-.798 1.206-1.628.752l-2.982-2.193-1.445-1.393-2.986 2.24c-1.147.781-1.972.373-2.28-.962l-1.588-7.487c-.354-1.488.844-2.193 2.025-1.742l11.45 4.423c1.23.473 1.225 1.183.214 1.527z"></path></svg>
                   </a>
                   <a href="mailto:?subject=Check%20out%20this%20GTM%20A%2FB%20Test%20Generator&body=I%20found%20this%20free%20tool%20that%20makes%20it%20easy%20to%20set%20up%20A%2FB%20tests%20in%20Google%20Tag%20Manager%3A%20https%3A%2F%2Fmelogabriel.github.io%2FGTM-ABtest-tool%2F" aria-label="Share via Email" class="text-gray-500 hover:text-indigo-600 transition-colors">
                        <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"></path></svg>
                   </a>
                   <button id="copyLinkButton" onclick="copyLink()" type="button" aria-label="Copy link to clipboard" class="text-gray-500 hover:text-indigo-600 transition-colors h-7 w-7 flex items-center justify-center">
                        <svg class="w-7 h-7" stroke="currentColor" fill="none" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path></svg>
                   </button>
               </div>
           </section>

        </div>
    </main>

    <footer class="bg-white mt-12">
        <div class="max-w-5xl mx-auto py-6 px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-500">
            <p>
                Created by Gabriel Melo. View on 
                <a href="https://github.com/melogabriel/GTM-ABtest-tool" target="_blank" rel="noopener noreferrer" class="font-medium text-indigo-600 hover:text-indigo-500">GitHub</a>.
            </p>
            <p class="mt-2">
                <a href="https://github.com/melogabriel/GTM-ABtest-tool/issues" target="_blank" rel="noopener noreferrer" class="font-medium text-indigo-600 hover:text-indigo-500">Report an Issue</a>
                <span class="mx-2 text-gray-400">|</span>
                <a href="https://github.com/melogabriel/GTM-ABtest-tool/pulls" target="_blank" rel="noopener noreferrer" class="font-medium text-indigo-600 hover:text-indigo-500">Submit a Pull Request</a>
            </p>
        </div>
    </footer>

</body>
</html>
